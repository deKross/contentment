(function($){$.fn.gist=function(id,settings){var config={'style':true};if(settings)$.extend(config,settings);this.each(function(){var gid=id?id:$(this).attr('id').match(/\d+/)[0];$.getJSON("http://gist.github.com/"+gid+".json?callback=?",function(gist){var style=true;$("link[rel=stylesheet]").each(function(i,e){if($(e).attr('href')==gist.stylesheet)style=false;});if(config.style&&style)$("head").append('<link rel="stylesheet" href="'+gist.stylesheet+'" />');$('#'+gist.repo).replaceWith(gist.div);});});return this;};$(function(){$('.gist[id]').gist();});})(jQuery);