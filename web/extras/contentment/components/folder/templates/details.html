<%inherit file="${context.get('root').properties['org-contentment-theme']}.templates.master"/>

<%def name="title()">${asset.title}</%def>        

<h1 class="primary">${asset.title}</h1>

% if not asset.contents:
<h2>This folder is empty.</h2>
% else:

<dl class="details">
<% skipped = 0 %>
% for child in asset.contents:
<% if not child.controller.allowed: skipped += 1; continue %>
  <dt><a href="${child.path}/">${child.title}</a></dt>
%   if child.owner:
  <dd class="byline">by <a href="">${child.owner.name}</a> <time class="created" datetime="${child.created.isoformat().rsplit('.')[0]}Z" title="Creation date.">on ${child.created.strftime(root.properties['org-contentment-formats-date'])}</time>.</dd>
%   else:
  <dd class="byline">by <em>Anonymous</em> <time class="created" datetime="${child.created.isoformat().rsplit('.')[0]}Z" title="Creation date.">on ${child.created.strftime(root.properties['org-contentment-formats-date'])}</time>.</dd>
%   endif
%   if child.description:
  <dd class="description">${child.description}</dd>
%   else:
<dd class="description"><em>No description available.</em></dd>
%   endif
%   if child.tags:
  <dd class="tags"><ul class="tags"></ul></dd>
%   endif
%   if child.modified:
  <dd class="age icon updated">Last modified <time class="modified" datetime="${child.modified.isoformat().rsplit('.')[0]}Z" title="Modification date.">on ${child.modified.strftime(root.properties['org-contentment-formats-date'])}</time>.</dd>
%   endif
% endfor
</dl>

<div class="byline tc">
<% count = len(asset.contents) - skipped %>
    Contains <strong>${count}</strong> Asset${'' if count == 1 else 's'}
</div>

% endif